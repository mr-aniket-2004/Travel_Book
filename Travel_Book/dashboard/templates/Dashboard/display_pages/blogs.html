{% extends "Dashboard/base_dashboard.html" %}



{% block content %}

<div class="md:w-3/4">

    {% if messages %}
    {% for message in messages %}
    <div class="mb-4 p-3 rounded-lg
        {% if message.tags == 'error' %}
            bg-red-500/20 text-red-400
        {% else %}
            bg-green-500/20 text-green-400
        {% endif %}
    ">
        {{ message }}
    </div>
    {% endfor %}
    {% endif %}

    <div class="bg-gray-900 py-24 sm:py-32">
        <div class="mx-auto max-w-7xl px-6 lg:px-8">
            <div class="mx-auto max-w-2xl lg:mx-0">
                <h2 class="text-4xl font-semibold tracking-tight text-pretty text-white sm:text-5xl">Storytelling &
                    Emotions</h2>
                <p class="mt-2 text-lg/8 text-gray-300">Journeys That Turn Into Stories...</p>
            </div>
            <div class="mx-auto  border-gray-700 pt-1  sm:pt-10 flex item-center  gap-5">
                <form action="" method="get">
                    {% csrf_token %}
                    <div class="w-full max-w-sm flex items-center justify-between gap-5">
                        <!-- Label -->
                        <label for="categories" class="block mb-1 text-sm font-medium text-white/80">
                            Category
                        </label>

                        <!-- Select -->
                        <select id="categories" name="categories" onchange="this.form.submit()" class="w-full rounded-md bg-white/5 px-3 py-2
               text-white outline-none
               border border-white/10
               focus:ring-2 focus:ring-indigo-500
               focus:border-indigo-500">

                            <option value="" class="bg-slate-800">
                                All
                            </option>
                            {% for list in types %}
                            <option value="{{ list.id }}" class="bg-slate-800" {% if category_id == list.id %} selected {%endif%}>
                                {{ list.name }}
                            </option>

                            {% endfor %}



                        </select>


                    </div>
                </form>
                <a href="{% url 'blogs' %}" class="px-4 py-2 rounded-md bg-red-500/10 text-red-400
          border border-red-500/20 hover:bg-red-500/20
          transition">
                    Clear
                </a>
            </div>
            <div
                class="mx-auto mt-10 grid max-w-2xl grid-cols-1 gap-x-8 gap-y-16 border-t border-gray-700 pt-10 sm:mt-16 sm:pt-16 lg:mx-0 lg:max-w-none lg:grid-cols-3">

                {% if bloglist %}

                {% for blog in bloglist %}
                <article class="flex max-w-xl flex-col items-start justify-between">
                    <div class="flex items-center gap-x-4 text-xs">
                        <time datetime="2020-03-16" class="text-gray-400">{{blog.created_at}}</time>
                        <p
                            class="relative z-10 rounded-full bg-gray-800/60 px-3 py-1.5 font-medium text-gray-300 hover:bg-gray-800">{{blog.categories.name}}</p>
                    </div>
                    <div class="group relative grow">
                        <h3 class="mt-3 text-lg/6 font-semibold text-white group-hover:text-gray-300">
                            <a href="{% url 'blog_details' blog.id %}">
                                <span class="absolute inset-0"></span>
                                {{blog.title}}
                            </a>
                        </h3>
                        <p class="mt-5 line-clamp-3 text-sm/6 text-gray-400">{{blog.about}}</p>
                    </div>
                    <div class="relative mt-8 flex items-center gap-x-4 justify-self-end">
                        <img src="{{profile.profile_photo.url}}" alt="" class="size-10 rounded-full bg-gray-800" />
                        <div class="text-sm/6">
                            <p class="font-semibold text-white">
                                <p>
                                    <span class="absolute inset-0"></span>
                                    {{profile.First_name}} {{profile.Last_name}}
                                </p>
                            </p>
                            <p class="text-gray-400">{{profile.user.username}}</p>
                        </div>
                    </div>
                </article>

                {% endfor %}
                {% else %}
                <div class="w-full max-w-5xl bg-gradient-to-b from-slate-900 to-slate-950
           border border-white/10 rounded-2xl
           flex flex-col items-center justify-center
           px-6 py-12 sm:py-10 text-center shadow-xl">

                    <!-- Icon -->
                    <div class="mb-6 flex h-14 w-14 items-center justify-center
             rounded-xl border border-white/20 bg-white/5">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-white/70" fill="none"
                            viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
                        </svg>
                    </div>

                    <!-- Title -->
                    <h2 class="text-lg sm:text-xl font-semibold text-white">
                        No Blogs
                    </h2>

                    <!-- Subtitle -->
                    <p class="mt-2 text-sm sm:text-base text-white/60 max-w-md">
                        Get started by creating a new Blog.
                    </p>

                    <!-- Button -->
                    <button class="mt-6 inline-flex items-center gap-2
             rounded-lg bg-indigo-500 px-5 py-2.5
             text-sm sm:text-base font-medium text-white
             hover:bg-indigo-600 transition
             focus:outline-none focus:ring-2 focus:ring-indigo-400">

                        <span class="text-lg">+</span>
                        <a href="{% url 'create_blog' %}">Add</a>
                    </button>

                </div>
                {% endif %}


            </div>
        </div>
    </div>

</div>


{% endblock content %}